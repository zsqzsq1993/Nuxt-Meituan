(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{536:function(e,r,t){var content=t(587);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(30).default)("ec45ea16",content,!0,{sourceMap:!1})},586:function(e,r,t){"use strict";var l=t(536);t.n(l).a},587:function(e,r,t){(r=t(29)(!1)).push([e.i,".page-register .header{border-bottom:2px solid #2bb8aa;min-width:980px;color:#666}.page-register .header header{margin:0 auto;padding:10px 0;width:980px}.page-register .header header .site-logo{display:inline-block;width:128px;width:54px;height:36px;text-indent:-9999px;background-position:-669px -748px;background-image:url(//s0.meituan.net/bs/file/?f=fe-sso-fs%3Abuild%2Fassets%2Fsp-normal.2ee5c09.png)}.page-register .header header .login{float:right}.page-register .header header .bold{font-style:normal}.page-register>section{margin:0 auto 30px;padding-top:30px;width:980px;min-height:300px;padding-right:550px;box-sizing:border-box}.page-register>section .status{font-size:12px;margin-left:20px;color:#e6a23c}.page-register>section .error{color:red}",""]),e.exports=r},602:function(e,r,t){"use strict";t.r(r);t(37),t(38),t(21),t(36);var l=t(48),o=t.n(l),n=t(540),m=t.n(n),d={layout:"blank",components:{axios:o.a},data:function(){var e=this;return{disabled:!1,error:"",statusMsg:"",ruleform:{name:"",email:"zsqzsq1993@yeah.net",code:"",pwd:"",cpwd:""},rules:{name:[{required:!0,type:"string",message:"请输入昵称",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确邮箱格式",trigger:"blur"}],pwd:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码在至少6位字符",trigger:"blur"}],cpwd:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:function(r,t,l){""===t?l(new Error("确认密码不能为空")):t!==e.ruleform.pwd?l(new Error("两次密码输入不一致")):l()},trigger:"blur"}]}}},methods:{sendMsg:function(){var e,r,t=this,l=this;return!this.timerid&&(this.statusMessage="",this.$refs.ruleform.validateField("name",(function(r){e=r})),this.$refs.ruleform.validateField("email",(function(e){r=e})),!r&&!e&&void o.a.post("/users/verify",{username:encodeURIComponent(l.ruleform.name),email:l.ruleform.email}).then((function(e){var r=e.status,data=e.data;if(200===r&&data&&0===data.code){l.disabled=!0;var o=60;l.statusMsg="验证码已发送，剩余".concat(o--,"秒"),l.timerid=setInterval((function(){l.statusMsg="验证码已发送，剩余".concat(o--,"秒"),0===o&&(clearInterval(l.timerid),l.statusMsg="",l.timerid=null,l.disabled=!1)}),1e3)}else t.statusMsg=data.msg})))},register:function(){var e=this;this.$refs.ruleform.validate((function(r){r&&o.a.post("/users/register",{username:encodeURIComponent(e.ruleform.name),password:m.a.MD5(e.ruleform.pwd).toString(),email:e.ruleform.email,code:e.ruleform.code}).then((function(r){var t=r.status,data=r.data;200===t?data&&0===data.code?(e.error=data.message,location.href="/login"):e.error=data.message:e.error="服务器出错，错误码为".concat(t),setTimeout((function(){e.error=""}),1500)}))}))}}},c=(t(586),t(5)),component=Object(c.a)(d,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"page-register"},[t("article",{staticClass:"header"},[t("header",[t("a",{staticClass:"site-logo",attrs:{href:"/"}}),e._v(" "),t("span",{staticClass:"login"},[t("em",{staticClass:"bold"},[e._v("已有美团账号？")]),e._v(" "),t("a",{attrs:{href:"/login"}},[t("el-button",{attrs:{type:"primary",size:"small"}},[e._v("登陆")])],1)])])]),e._v(" "),t("section",[t("el-form",{ref:"ruleform",attrs:{model:e.ruleform,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"昵称",prop:"name"}},[t("el-input",{model:{value:e.ruleform.name,callback:function(r){e.$set(e.ruleform,"name",r)},expression:"ruleform.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[t("el-input",{model:{value:e.ruleform.email,callback:function(r){e.$set(e.ruleform,"email",r)},expression:"ruleform.email"}}),e._v(" "),t("el-button",{attrs:{size:"small",round:"",disabled:e.disabled},on:{click:e.sendMsg}},[e._v("发送验证码")]),e._v(" "),t("span",{staticClass:"status"},[e._v(e._s(e.statusMsg))])],1),e._v(" "),t("el-form-item",{attrs:{label:"验证码",prop:"code"}},[t("el-input",{attrs:{maxlength:"4"},model:{value:e.ruleform.code,callback:function(r){e.$set(e.ruleform,"code",r)},expression:"ruleform.code"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"密码",prop:"pwd"}},[t("el-input",{attrs:{type:"password"},model:{value:e.ruleform.pwd,callback:function(r){e.$set(e.ruleform,"pwd",r)},expression:"ruleform.pwd"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"确认密码",prop:"cpwd"}},[t("el-input",{attrs:{type:"password"},model:{value:e.ruleform.cpwd,callback:function(r){e.$set(e.ruleform,"cpwd",r)},expression:"ruleform.cpwd"}})],1),e._v(" "),t("el-form-item",{attrs:{label:""}},[t("el-button",{attrs:{type:"primary"},on:{click:e.register}},[e._v("同意以下协议并注册")]),e._v(" "),t("div",{staticClass:"error"},[e._v(e._s(e.error))])],1),e._v(" "),t("el-form-item",[t("a",{staticClass:"f1",attrs:{href:"https://rules-center.meituan.com/rules-detail/4",target:"_blank"}},[e._v("《美团点评用户服务协议》")]),e._v(" "),t("a",{staticClass:"f1",attrs:{href:"https://rules-center.meituan.com/rules-detail/2",target:"_blank"}},[e._v("《美团点评隐私政策》")])])],1)],1)])}),[],!1,null,null,null);r.default=component.exports}}]);